= bionode-watermill <<- https://github.com/bionode/bionode-watermill

~~~ image:/aviewer/image/instrument.jpg

is a workflow<<! engine for orchestrating complex and dynamic pipelines. The tool automatically resolves input and output filenames, while also maintaining a directed acyclic graph (DAG) of task dependencies. This enables the developer to isolate individual tasks and compose them with operators such as join, junction, and fork. Tasks can be child processes or JavaScript functions; of note is the ability to use Node streams which can be used to transform STDIN and STDOUT. Integration with Docker and clustering tools like qsub are some immediate<<! objectives of the <<- https://github.com/bionode/bionode-watermill project.

aaa @thejmazz <<! <<- https://twitter.com/thejmazz bbb

jmazz.me/slides/2016/10/24/bionode-watermill <<- http://jmazz.me/slides/2016/10/24/bionode-watermill

= Agenda

~ list:ordered

- Project history
- What is a pipeline?
- Example VCF Pipeline
- What makes pipelines complex or dynamic?
- Existing tools
-- bash, makefile, python scripts
-- snakemake <<- https://bitbucket.org/snakemake/snakemake/wiki/Home
-- nextflow <<- https://www.nextflow.io/
- bionode-watermill overall goals
- Define a task
- The task lifecycle
- The DAG, input resolution, and operators
- NGS Pipeline with watermill
- Node streams
- Node streams & child processes
- Next Steps

= Project History

Google Summer of Code: May-August 2016 - >> Bionode workflow engine for streamed data analysis <<- https://summerofcode.withgoogle.com/projects/=6585953724399616
4 weeks "community bonding", 12 weeks coding
ended up spending first 4 weeks of code time figuring out what to do: my NGS Workflows post
final 8 weeks to implement MVP of what was described in NGS Workflows post

Mentors:
Yannick Wurm, wurmlab. @yannick__
Bruno Vieira, Phd student @ wurmlab, bionode founder. @bmpvieira
Max Ogden, dat, open data, Node. @denormalize
Mathias Buus, dat, p2p, Node streams. @mafintosh

= What is a pipeline?

~~ image:/aviewer/image/instrument.jpg

== What is a pipeline?

~~~ halign:right image:/aviewer/image/instrument.jpg

- Takes a source to a destination
- source: raw data generated by sequencing machines or otherwise - a file, set of files, or streaming output. (e.g. fastq)
- destination: file(s) describing modeling/computational results (e.g. vcf) transformation from one format to another accomplished with "tools"
- Tools <<! are usually written in C/C++, available as CLI binaries (maybe wrapped with Python/R)
- Tools may:
-- read one or many files, either >>explicitly or implicitly<<!
-- write one or many files, either >>explicitly or implicitly<<!
-- consume streaming STDIN and/or produce streaming STDOUT
-- not give proper non-zero exit codes, change options across versions, log to STDERR, output empty files, etc...
- Pipeline<<!: series of transformations applied with tools<<! to a source to produce a destination
