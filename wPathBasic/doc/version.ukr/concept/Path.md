# Види шляхів

Рядок, що ідентифікує файл, шляхом перерахунку файлів котрі містять даний безпосередньо або упосередковано.

Зазвичай складові шляху розділяються слешом `/`, наприклад:

```
dir1/dir2/Terminal1.txt
```

Директорія `dir1` містить директорію `dir2`, котра містить ( ймовінро ) термінальний файл `Terminal.txt`.

Шляхи бувають:

- `глобальними` / `локальними`
- `абсолютними` / `відносними`
- `нормальними` / `канонічними` / `ненормальними` / `нативними`

### Глобальний шлях

Це абсолютний або відносний шлях до файлу, який містить протокол, зокрема може містити порожній протокол.

Протокол відділяється від решти шляху за допомогою `://`. Загальний вигляд глобального шляху - `{-protocol name-}://{-local path-}`. Назва протоколу може бути порожнім рядком, тобто шлях вигляду - `://`, є глобальним та валідним.

```
http://google.com
```

Потокол `http`, а решта шляху `google.com`.

### Локальний шлях

Це абсолютний або відносний шлях до файлу, який не містить назви протоколу.

```
/dir1/Termina.txt
```

Такий шлхя не є глобальним бо не містить інфомрації про протокол.

### Абсолютний шлях

Це шлях, який починається із кореневої директорії.

Коренева директорія позначається, як `/`. Шляхи, котрі починаються із `/` є абсолютними.

```
/dir/Termina.txt
```

Такрий шлях є абсолютним, так як починається із `/`. Також він є локальним.

```
file:///dir/Termina.txt
```

Інший приклад абсолютного шляху. На відмінно від першого такеий шлях ще є і глобальним.

### Відносний шлях

Це шлях, який визначає місце розташування файлу відносно іншого файла, а не відносно кроеня і не починається із кореня.

Відносний шлях може знаходитсья відносно кореня. Але навіть в такому разі він не починається із токену кореня.

```
dir/Termina.txt
```

Першим символом в рядку не є `/`, а отже він відносний.

### Приклади шляхів

Необхідно вказати на файл - /home/doc/myFile.txt

||Абсолютний|Відносний|
|:-:|:-:|:-:|
|Глобальний|file:///home/doc/myFile.txt|file://doc/myFile.txt|
|Локальний|/home/doc/myFile.txt|doc/myFile.txt|

### Нормальний шлях

Це шлях, приведений до форми, в якій шлях унікально ідентифікує файл із можливість диференціації директорії.

Два дуже різні за по формі шляхи можуть вказувати на один і той файл, наприклад:

```
dir1/dir2/Terminal.txt
./dir1/dir2/dir3/../Terminal.txt
```

Це позавляє можливості отирмати відповідь на питання чи шляхи ідентифікують один і той же файл порівнянням рядків. Нормалізація вирішую цю проблему. Порівнюючи два нормалізвоаних шляхи можливо дати відповідь на питання, чи вони ведуть до одного і того ж файлу ( при умові, що в шляху нема лінків ). Також нормалізація приберає специфічні для платформи чи операційної системи нюанси, що гарантує крос-платформенність програми, що розробляється.

Для нормалізації шляху використовуйте рутину `_.path.normalize()`. В процесі нормалізації з шляху видаляються при можливості '..' та '.', замінюються зворотні слеші на звичайні та робляться ескейп спеціальних символів.

```js
let path1 = _.path.normalize( 'C:\\project\\index.html\\..\\.' );
console.log( path1 );
// log : /C/project

let path2 = _.path.normalize( '/C/dir1/../project' );
console.log( path2 );
// log : /C/project

console.log( path1 === path2 );
// log : true
```

В наслідок нормалізації двох різних по формі шляхів `C:\\project\\index.html\\..\\.` та `/C/dir1/../project` зясувалося, що вони ідентифікують один і той самий файл.

### Канонічний шлях

Це шлях, приведений до форми, в якій шлях унікально ідентифікує файл без можливості диференціації директорії.

`Канонізація` шляху - це процес аналогічний до нормалізації, проте шлях у канонічній формі є більш строгим та простим. Єдина відмінність алгоритму канонізації від алгоритму нормалізації полягає в тому, що канонізація здійснює додатковий крок приберання слеша в кінці шляху, що робить неможливим диференціацію директорій.

```js
let normal = _.path.normalize( 'foo/../bar/baz/' );
console.log( path );
// bar/baz/

let cononical1 = _.path.normalize( 'foo/../bar/baz/' );
console.log( path );
// bar/baz

let cononical2 = _.path.normalize( 'foo/../bar/baz' );
console.log( path );
// bar/baz

```

Шляхи `cononical1` та `cononical2` стали однаковими після канонізації тоді, як нормалізації зберегла останній слеша для шляху `foo/../bar/baz/`.

Слеш після шляху можливо виокристати, як додатковий канал інформації, наприклад для диференціації тих файлів які є директоріями.

### Нативний шлях

Це шлях, яким має вигляд, характерний для якоїсь операційної системи, платформи чи інтерпретатора.

Мета процесу `нативізації` полягає в приведенні шляху форму зрозумілу певній операційній системі, платфомрі чи інтерпретатору.

Для нативізації використовуйте рутину `_.path.nativize()` виконує нативізацію шляхів.

```js
// process.platform === 'win32'
let path = '/C/Newsletters/Summer2018.pdf';
console.log( _.path.nativize( path ) );
// C:\Documents\Summer2018.pdf
```

Приведення нормального шляху `/C/Newsletters/Summer2018.pdf` до зроузмілої для `Windows` форми `C:\Documents\Summer2018.pdf`.

[Повернутись до змісту](../README.md#концепції)
